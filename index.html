<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
<style>
body {
    font-size: 200px;
    text-align: center;
}
</style>
</head>
<body>

<div id="emoji">ðŸŽ±</div>
<div id="countdown"></div>

<script>
var countdown = document.getElementById('countdown');
var emoji = document.getElementById('emoji');

var attrs = {
    'months': 'getMonths',
    'days': 'getDays',
    'hours': 'getHours',
    'minutes': 'getMinutes',
    'seconds': 'getSeconds',
}


var search = window.location.search;
var query = {};
search.substring(1, search.length).split('&').forEach(function(pair) {
    pair = pair.split('=');
    query[pair[0]] = pair[1];
})

var data = {
    emoji: decodeURIComponent(query.e) || 'ðŸŽ±',
    time: {
        hours: 16,
        minutes: 30,
    },
};

for (var key in attrs) {
    if (query[key] !== undefined) {
        data.time[key] = parseInt(query[key], 10);
    }
}

var now = new Date();
var until = {
    hours: data.time.hours - now.getHours(),
    minutes: data.time.minutes - now.getMinutes(),
};
for (var key in attrs) {
    var method = attrs[key];
    if (data.time[key]) {
        until[key] = data.time[key] - now[method]();
    }
}

emoji.innerHTML = data.emoji;

var times = ['months', 'days', 'hours', 'minutes', 'seconds'].filter(function(unit) {
    return until[unit] !== undefined && until[unit] > 0;
}).map(function(unit) {
    return until[unit] + ' ' + unit;
});

countdown.innerHTML = times.join(' ');
</script>

</body>
</html>
